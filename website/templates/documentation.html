<!DOCTYPE html>
<html>

{% include '_head.html' %}

<body class="main">

  {% include '_navbar.html' %}

  <!-- Header -->
  <section class="hero">
    <div class="hero-body has-text-centered">
      <p class="title">
        PhysCov
      </p>
      <p class="subtitle">
        Documentation
      </p>
    </div>
  </section>

  <!-- Content -->
  <div class="container">

    <p>TODO: Look into prism</p>
    <p>TODO: include feasibility</p>

    <div class="block">
      <h1 class="title">Prerequisits</h1>

      <br>
      <h2 class="subtitle">Docker</h2>

      <p>Todo</p>

      <br>
      <h2 class="subtitle">Data</h2>
      <p>The data provided contains all the stages of the tool pipeline. However the data was compressed in orderrr to be uploaded to github. The first step is therefor unzipping the folder. To unzip the folder run the following command:</p>

      <pre><code >
cd data_subset
./extract_data.sh
      </code></pre>

      <p>This will generate a subset of the data used in the final paper. Each of the different environments will have 1000 tests.</p>

    </div>



    <div class="block">
      <h1 class="title">Using the Tool</h1>
      
      <p>his tool is designed to work with larges sets of data (up to 1000000) traces. Therefor the tool is implemented to be multithreaded, and is broken up into several stages that save intermidiate steps.</p>

      <br>
      <h2 class="subtitle">Converting Lidar to Pipeline required file</h2>

      <p>The lidar data generated by BeamNG needs to be converted into a spacial format used by the RRS pipeline. To do that you can run the following:</p>
      <pre><code >
cd /physcov/tool/beamng_converter
python3 lidar_to_RRS.py --cores 4 --scenario beamng_random --data_path '/home/carl/Desktop/PhysicalCoverageDataSubSet'
      </code></pre>

      <p>**Note:** The converstion process takes time to run due to the large volume of lidar data generated. Additionally due to the size of the lidar files, only 10 of the 1000 have been provided. However all 1000 converted files are included in the data_subset folder.</p>

      <p>The output will be placed in the `tool/output` folder. However all of the data has already been converted and stored inside the data_subset folder.</p>

      <br>
      <h2 class="subtitle">Computing PhysCov</h2>

      <p>The next step is to compute the RRS signatures for both BeamNG and HighwayEnv. To do this we can run the following commands:

      <pre><code>
cd ~/Desktop/PhysicalCoverage/preprocessing 
./scripts/preprocess_highway_random_physcov_coverage.sh 1000 center_close /home/parallels/Desktop/PhysicalCoverageArtifact/data_subset
./scripts/preprocess_beamng_random_physcov_coverage.sh 1000 center_close /home/parallels/Desktop/PhysicalCoverageArtifact/data_subset
      </code></pre>

      <br>
      <p>The pamareters are as follows:</p>
      <ul>
        <li>1000: This represents the total number of tests in your test suite.</li>
        <li>center_close: This represents the distribution I and M which we are using. These are defined in the `general/RRS_distributions.py` folder.</li>
        <li>home/carl/Desktop/PhysicalCoverageDataSubSet: This is the location of the data</li>
      </ul>

      <p>The script is automatically set to use 4 of the available cores. This can be manually varied by editing the script. The script will generate RRS vectors 1 to 10.</p>

      <p>The outuput will be placed in the output folders. However a copy which already has been preprocessed has been added to the datasubset already.</p>

      <br>
      <h2 class="subtitle">Computing Code Coverage</h2>

      Next we want to generate code coverage. To generate code coverage we follow a similar process to that of physical coverage.

      <pre><code >
cd ~/Desktop/PhysicalCoverage/preprocessing 
./scripts/preprocess_highway_random_code_coverage.sh 1000 /home/parallels/Desktop/PhysicalCoverageArtifact/data_subset
./scripts/preprocess_beamng_random_code_coverage.sh 1000 /home/parallels/Desktop/PhysicalCoverageArtifact/data_subset
      </code></pre>

      <p>The pamareters are as follows:</p>
      * 1000: This represents the total number of tests in your test suite.
      * home/carl/Desktop/PhysicalCoverageDataSubSet: This is the location of the data

      <p>The script is automatically set to use 4 of the available cores. This can be manually varied by editing the script.</p>

      <p>HighwayEnv will compute the line and branch coverage. BeamNG will compute the line, branch, path, intraproduecural path, and intraproduecural prime path coverage.</p>

      <p>The outuput will be placed in the output folders. However a copy which already has been preprocessed has been added to the datasubset already.</p>

    </div>


  </div>

  {% include '_footer.html' %}

</body>

</html>
